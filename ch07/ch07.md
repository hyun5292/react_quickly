# React에서 폼 다루기

```
# 7-1 React에서 폼을 다루기 위한 권장 방법
	> 일반적이 HTML에서 입력 요소를 다룰 때는 페이지의 DOM이 해당 요소의 값을 DOM 노드에서 관리함
	> React는 state를 자바스크립트에서 관리하지 않고, 뷰와 동기화하지 않으면 문제가 나타남
		-> 내부 state와 뷰가 다른 경우 발생
	> 가장 좋은 방법은 React의 render() 메서드를 폼 요소의 데이터를 포함한 실제 DOM에 최대한 밀접하게 유지하는 것
	> 단방향 바인딩
		>> 여러 개의 뷰에서 암묵적으로 state 또는 데이터 모델을 갱신하거나 역으로 state가 뷰를 갱신하는 거대한 규모의 앱을 다룰 때 복잡도를 제거할 수 있음
	> 제어 컴포넌트
		: 컴포넌트 내부 state와 뷰를 항상 동기화할 수 있음

	# 7-1-1 React에서 폼과 이벤트 정의하기
		> 표준 React DOM 이벤트와 함께, 폼 요소를 위한 세 가지 이벤트를 지원
			- onChange
				: 폼의 입력 요소에 변경이 생기면 발생
			- onInput
				: <textarea><input> 요소의 값이 변경될 때 발생(추천 X)
			- onSubmit
				: 폼 제출 시 발생, 흔히 Enter를 눌렀을 때 발생
		> React의 onChange 이벤트는 HTML의 onInput 이벤트와 더 비슷하고 일관성이 있음. React에서는 가급적 onChange 이벤트를 활용하고, onInput 이벤트의 네이티브 구현에 접근해야 하는 경우에만 onInput을 사용하는 것을 추천

	# 7-1-2 폼 요소 정의하기
		> 대화형 속성
			: 폼 요소는 사용자가 폼 요소와 상호작용하면서 속성을 변경하므로 특별한 경우임
			- value
				: <input>, <textarea>, <select>에 적용
			- checked
				: <input>에 type="checkbox" 또는 type="radio"인 경우 적용
			- selected
				: <select>와 함께 <option>을 사용할 때 적용

		> <input> 요소
			- text
				: 일반적인 텍스트 입력 영역
			- password
				: 보안을 위해 입력 내용이 가려진 텍스트 영역
			- radio
				: 라이오 버튼, 라디오 버튼 그룹을 만들 때는 name 속성에 같은 값을 입력
			- checkbox
				: 체크박스 요소, 체크박스 그룹을 만들 때는 name 속성에 같은 값을 입력
			- button
				: 버튼 폼 요소
			>> 복제
				: 자바스크립트에서 객체는 참조를 통해 전달 및 할당됨. 따라서 obj = this.state.checkboxGroup에서 obj는 state. state는 직접 변경 X. 잠재적인 충돌을 방지하기 위해서, Object.assign()을 이용해 값을 할당하는 것이 좋음
				>>> 객체 대신 배열을 사용하는 경우에 값을 할당해야 한다면 cloneArray = Array.from(originArray) 또는 coneArray = originArray.slice() 사용
			-> 체크박스나 라디오 버튼을 사용할 때 각 요소의 value 값은 하드코딩하고 checked를 변경 가능한 속성으로 사용 가능

		> <textarea>
			>> value 속성을 사용
			>> <input> 요소와 마찬가지로 변경을 감지하면 onChange를 사용

		> <select>와 <option> 요소
			> 다중 선택 요소를 사용해야 하는 경우, multiple 속성만 작성하면 React가 true로 처리

	# 7-1-3 변경 감지하기
		> 일반적인 DOM의 onChange 이벤트가 요소가 포커스를 잃었을 때만 발생하지만, React의 onChange 이벤트는 모든 새로운 입력에 대해 발생
		- <input>, <textarea>, <select>
			: value가 변경될 때 onChange이벤트 발생
		- <input> 체크박스와 라디오 버튼
			: checked가 변경될 때onChange 이벤트 발생
		> Fetch API는 프러미스 기반의 AJAX/XHR 요청을 수행할 수 있는 실험적인 브라우저 내장 메서드

	# 7-1-4 대출 신청서의 계좌번호 영역 만들기
		> React에서 입력 요소와 폼을 다루는 가장 좋은 방법을 통해 입력 값 유효성 검사를 구현할 수 있으며, 앱을 원하는 모습대로 작동하도록 강제할 수 있음
```

```
# 7-2 폼을 다루는 다른 방법
	> 비제어 컴포넌트를 사용하려면 폼에서 제출 이벤트를 정의해야 함. 보통 버튼에 onClick 이벤트나 폼의 onSubmit 이벤트를 사용. 이벤트 핸들러를 추가한 뒤에는 두 가지 방법 중 선택 가능
		- 제어 엘리먼트를 사용할 때처럼 변경을 감지하여 상태에 저장하지만, 상태를 value에 사용하지 않고 제출 시에만 사용하는 방식
		(이것은 결국 제어하지 않는 방식)
		- 변경을 감지하지 않는 방식

	# 7-2-1 비제어 엘리먼트에서 변경 감지하기
		> 비제어 컴포넌트
			: value 속성을 React에서 설정하지 않는 다는 것을 의미

	# 7-2-2 비제어 엘리먼트에서 이벤트를 감지하지 않는 경우
		> 변경을 감지하지 않고 비제어 엘리먼트를 사용하려면 다른 엘리먼트에 접근해서 데이터를 가져올 수 있는 방법이 필요

	# 7-2-3 값에 참조로 접근하기
		> 참조를 사용하면 React 컴포넌트의 DOM 요소 또는 노드를 가져올 수 있음
		> 변경을 감지하지 않고 폼 요소의 값을 가져와야 할 때 유용
		> 참조를 사용하려면 다음 두 가지 작업이 필요
			- render 메서드에서 반환하는 엘리먼트의 ref 속성에 문자열을 전달하는 경우 카멜 표기법으로 작성되어 있어야 함
			- 지정한 이름으로 다른 메서드에서 DOM 인스턴스에 접근
		> 참조를 사용하는 것은 비제어 엘리먼트를 사용하는 경우처럼 흔하지 않은 경우. 참조를 과도하게 사용하는 것은 좋지 않음
		> 대부분의 경우 제어 엘리먼트에서는 참조를 사용하는 대신 컴포넌트 state를 사용
		> JSX의 ref 속성으로 함수를 할당하는 것도 가능
		ex, <input ref={(input) => { this.emailInput = input }} ... />

	# 7-2-4 기본값 설정하기
		> React는 특별한 속성인 defaultValue를 이용해서 입력 값을 설정하고, 사용자가 폼 요소를 수정할 수 있도록 함
		> defaultValue 기능은 주로 비제어 컴포넌트와 함께 사용
```
